<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta http-equiv="Cache-control" content="public">
    <title>Form App</title>
    <!-- Backbone --
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.9.1/underscore-min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.3.3/backbone-min.js"></script>
    <!-- Jquery Mobile -->
    <link rel="stylesheet" href="src/themes/jquery.mobile-1.4.5.min.css"/>
    <link rel="stylesheet" href="src/themes/jquery.mobile.icons.min.css"/>
    <script src="dist/js/jquery-1.11.1.min.js"></script>
    <script src="dist/js/jquery.mobile-1.4.5.min.js"></script>
    <!-- App Styles -->
    <link rel="stylesheet" href="src/themes/balanced-body.min.css"/>
    <!-- App Assets -->
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="src/images/icons/icon-168.png">
    <!--<link rel="apple-touch-icon" href="touch-icon-iphone.png">
    <link rel="apple-touch-icon" sizes="152x152" href="touch-icon-ipad.png">
    <link rel="apple-touch-icon" sizes="180x180" href="touch-icon-iphone-retina.png">
    <link rel="apple-touch-icon" sizes="167x167" href="touch-icon-ipad-retina.png">-->
    <link href="src/images/splashscreens/iphone5_splash.png"
          media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image"/>
    <link href="src/images/splashscreens/iphone6_splash.png"
          media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image"/>
    <link href="src/images/splashscreens/iphoneplus_splash.png"
          media="(device-width: 621px) and (device-height: 1104px) and (-webkit-device-pixel-ratio: 3)" rel="apple-touch-startup-image"/>
    <link href="src/images/splashscreens/iphonex_splash.png"
          media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3)" rel="apple-touch-startup-image"/>
    <link href="src/images/splashscreens/iphonexr_splash.png"
          media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image"/>
    <link href="src/images/splashscreens/iphonexsmax_splash.png"
          media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3)" rel="apple-touch-startup-image"/>
    <link href="src/images/splashscreens/ipad_splash.png"
          media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image"/>
    <link href="src/images/splashscreens/ipadpro1_splash.png"
          media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image"/>
    <link href="src/images/splashscreens/ipadpro3_splash.png"
          media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image"/>
    <link href="src/images/splashscreens/ipadpro2_splash.png"
          media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image"/>
</head>
<style>
    body {
        -webkit-user-select: none;
        -webkit-tap-highlight-color: transparent;
        -webkit-touch-callout: none;
    }

    #lead-capture div.ui-input-text {
        margin-bottom: 2vh;
    }

    form {
        padding: 1vh 5vw;
        background: #fff;
    }
</style>
<body class="ui-body-a" ontouchstart="">
<div style="text-align: center">
    <img src="src/images/icons/icon-168.png"/>
</div>
<div id="lead-capture">
    <form class="">
        <div>
            <fieldset class="ui-controlgroup">
                <div role="heading" class="ui-controlgroup-label">
                    <legend>Tell us about a little about yourself:</legend>
                </div>
                <div>
                    <input type="text" name="name" class="ui-input-text" id="name" placeholder="Name"/>
                </div>
                <div>
                    <input type="email" name="email" class="ui-input-text" id="email" placeholder="Email"/>
                </div>
                <div>
                    <input type="tel" name="phone" class="ui-input-text" id="phone" placeholder="Phone"/>
                </div>
                <div>
                    <input type="text" name="zip" class="ui-input-text" id="zip" placeholder="Zip"/>
                </div>
            </fieldset>
            <fieldset data-role="controlgroup" data-type="horizontal" class="ui-controlgroup ui-controlgroup-horizontal ui-corner-all">
                <div role="heading" class="ui-controlgroup-label">
                    <legend>Have you used meal prep services before?</legend>
                </div>
                <div class="ui-controlgroup-controls ">
                    <div class="ui-radio">
                        <label for="used_meal_prep-a1"
                               class="ui-btn ui-corner-all ui-btn-inherit ui-first-child ui-radio-off">Yes</label>
                        <input type="radio" name="used_meal_prep" id="used_meal_prep-a1" value="Y">
                    </div>
                    <div class="ui-radio">
                        <label for="used_meal_prep-b1"
                               class="ui-btn ui-corner-all ui-btn-inherit ui-btn-active ui-radio-on ui-last-child">No</label>
                        <input type="radio" name="used_meal_prep" id="used_meal_prep-b1" value="N" checked>
                    </div>
                </div>
            </fieldset>
            <fieldset>
                <label for="subscribe">Subscribe for texts and emails</label>
                <div class="ui-checkbox">
                    <input type="checkbox" name="subscribe" id="subscribe" value="Y" checked/>
                </div>
            </fieldset>
            <fieldset>
                <button type="submit" class="ui-btn ui-btn-active ui-btn-corner-all submit">Submit</button>
            </fieldset>
        </div>
    </form>
</div>
</body>
<!--<script src="dist/js/main.bundle.js"></script>--->
<script src="bb-sw.js"></script>
<!-- Indexed DB Worker -->
<script src="/dist/js/main.js"></script>

<script src="/dist/js/entrydb.js"></script>
<script>
    //Main.js
    window.onload = function () {
        let online = window.navigator.onLine;
        if (online) {
            console.log('online');
        } else {
            console.log('offline');
        }
    };
    window.addEventListener('online',  function () {
        console.log('online mode');
        //Get item from indexeddb
        console.log('[Online Mode] Get next item from IndexedDB');
        console.log('[Online Mode] Posting to api.balancedbody.com');
        console.log('[Online Mode] Removing from IndexedDB');
        //Post to api.balancedbody.com
        //Delete from indexeddb if successful

    });
    window.addEventListener('offline', function () {
        alert('offline mode');
    });
</script>
<script>
    /*var Customer = Backbone.Model.extend({
        urlRoot: '/customer',
        scheme: {
            name: {type: 'text', validators: ['required']},
            email: {type: 'text', validator: ['required', 'email']},
            triedMealPrep: {type: 'radio', validator: ['required']}
        },
        defaults: {
            id: null,
            name: '',
            email: '',
            triedMealPrep: 'N',
        },
        initialize: function () {
            this.bind("error", function (model, error) {
                // We have received an error, log it, alert it or forget it :)
                alert(error);
            });
            return this;
        },
        validate: function () {
            return "is it broken?";
        }
    });*/
</script>
</html>